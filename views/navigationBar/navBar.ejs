<!-- open button -->

<input class="burgerBox" type="checkbox" id="hamburger">
<label for="hamburger" class="burger">&#9776;</label>
<nav class="sidebar">
  <!-- close button inside sidebar -->
  <label for="hamburger" class="burger-inside">&#9776;</label>
  <h2>CampusWell</h2>
  <ul>
    <li>
      <a href="/" class="<%= currentPath === '/' ? 'active' : '' %>">
        <img src="/image/dashboard.png" class="sidebar-icon"> Dashboard
      </a>
    </li>
    <li>
      <a href="/mood" class="<%= currentPath === '/mood' ? 'active' : '' %>">
        <img src="/image/mood.png" class="sidebar-icon"> Mood Tracker
      </a>
    </li>
    <li>
      <a href="/resources" class="<%= currentPath === '/resources' ? 'active' : '' %>">
        <img src="/image/search.png" class="sidebar-icon"> Search & Discovery
      </a>
    </li>
    <li>
      <a href="/profile" class="<%= currentPath === '/profile' ? 'active' : '' %>">
        <img src="/image/social.png" class="sidebar-icon"> Social Networking
      </a>
    </li>
    <li>
      <a href="#" class="<%= currentPath === '/gamification' ? 'active' : '' %>">
        <img src="/image/gamification.png" class="sidebar-icon"> Gamification
      </a>
    </li>
    <li>
      <a href="#" class="<%= currentPath === '/alerts' ? 'active' : '' %>">
        <img src="/image/danger.png" class="sidebar-icon"> Alerts
      </a>
    </li>
    <% if (user) { %>
      <li>
        <a href="/profile" class="<%= currentPath === '/profile' ? 'active' : '' %>">
          <img src="/image/user.png" class="sidebar-icon"> <%= user.fullName %>
        </a>
      </li>
      <li>
        <form method="POST" action="/auth/logout" class="logout-form">
          <button type="submit" class="logout-button">
            <img src="/image/exit.png" class="sidebar-icon" alt="" /> Logout
          </button>
        </form>
      </li>
    <% } else { %>
      <li>
        <a href="/auth/login" class="<%= currentPath === '/auth/login' ? 'active' : '' %>">
          <img src="/image/user.png" class="sidebar-icon"> Login
        </a>
      </li>
    <% } %>
  </ul>
</nav>
<script>
  //Make the navbar responsive to window size (<650)
  const hamburger = document.getElementById('hamburger');
  function handleResize() {
    if (window.innerWidth < 650) {
      // Force sidebar closed
      hamburger.checked = false;
    }
  }
  handleResize();
  window.addEventListener('resize', handleResize);
</script>
